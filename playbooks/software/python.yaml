- name: Install Python Requirements
  hosts: cores
  tasks:
  - name: Create install directory
    ansible.builtin.file:
      path: ~/install_rupert
      state: directory
  - name: Install python3.11
    ansible.builtin.apt:
      name: python3.11
      state: present
      update_cache: true
    become: true
  - name: Install pip3.11
    ansible.builtin.apt:
      name: python3-pip
      state: present
      update_cache: false
  - name: Install Python3.11 venv
    ansible.builtin.apt:
      name: python3.11-venv
      state: present
      update_cache: false
    become: true
  - name: Install libpython3.11
    ansible.builtin.apt:
      name: libpython3.11
      state: present
      update_cache: false
    become: true
  - name: Install python-vlc
    ansible.builtin.pip:
      name: python-vlc
      extra_args:
        --user
        --upgrade
        --break-system-packages
      executable: pip3.11
  - name: Install confluent-kafka
    ansible.builtin.pip:
      name: confluent-kafka
      extra_args:
        --user
        --upgrade
        --break-system-packages
      executable: pip3.11
  - name: Install BearType
    ansible.builtin.pip:
      name: beartype
      extra_args:
        --user
        --upgrade
        --break-system-packages
      executable: pip3.11
  - name: Install PyMongo
    ansible.builtin.pip:
      name: pymongo
      extra_args:
        --user
        --upgrade
        --break-system-packages
      executable: pip3.11
  - name: Install TinyTuya
    ansible.builtin.pip:
      name: tinytuya
      extra_args:
        --user
        --upgrade
        --break-system-packages
      executable: pip3.11
  - name: Install google-api-python-client
    ansible.builtin.pip:
      name: google-api-python-client
      extra_args:
        --user
        --upgrade
        --break-system-packages
      executable: pip3.11
  - name: Install jinja2
    ansible.builtin.pip:
      name: jinja2
      extra_args:
        --user
        --upgrade
        --break-system-packages
      executable: pip3.11
  - name: Install sportsipy
    ansible.builtin.pip:
      name: sportsipy
      extra_args:
        --user
        --upgrade
        --break-system-packages
      executable: pip3.11
